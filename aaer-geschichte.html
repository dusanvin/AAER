<!DOCTYPE html>
<html lang="de">

<head>
	<title>AAER - DigiLLab UniA Umfrage</title>

	<meta name="viewport" content="width=device-width" />

	<meta http-equiv="content-type" content="text/html; charset=utf-8">


	<script src="/js/Chart.js"></script>

	<script src="/js/jquery-3.5.1.min.js"></script>

	<script src="/js/survey.jquery.min.js"></script>


	<!-- Custom Index CSS Start -->

	<link rel="stylesheet" href="/css/index.css">

	<!-- Custom Index CSS End -->

	<!-- Custom Survey CSS Start -->

	<link rel="stylesheet" href="/css/survey.css">

	<!-- Custom Survey CSS End -->

	<!-- Custom Dashboard CSS Start -->

	<link href="/css/simple-sidebar.css" rel="stylesheet">

	<!-- Custom Dashboard CSS End -->
	
	
	<!-- Bootstrap Material Design v.4.1.1 Start -->
		
	<link rel="stylesheet" href="/css/bootstrap-material-design-4_1_1-min.css">
	
	<!-- Bootstrap Material Design v.4.1.1 End -->


	<!-- Custom Dashboard JS Start -->

	<script type="/js/mdb.min.js"></script>

	<!-- Custom Dashboard JS End -->

	<!-- PopperJS v.1.12.6 Start -->

	<script src="/js/popperJS-1_12_6.js"></script>

	<!-- PopperJS v.1.12.6 End -->

	<!-- Bootstrap Material Design JS Start -->

	<script src="/js/bootstrap-material-design.js"></script>

	<!-- Bootstrap Material Design JS End -->

	<script src="/js/history/objects.js"></script>
	<script src="/js/history/index.js"></script>


</head>

<body style="width:100% !important">

	<!-- Navigation Start -->

	<div id="navigation_container"></div>

	<!-- Navigation End -->

	<!-- Start: Dashboard Div -->

	<div id="dashboard-aaer" class="mr-lg-5 mr-md-3 mr-sm-0 mr-xs-0 ml-lg-5 ml-md-3 ml-sm-0 ml-xs-0 mt-lg-5 mt-md-5 mt-sm-1 mt-xs-1 pt-lg-5 pt-md-5 pt-sm-1 pt-xs-1">

		<div>

			<!-- Start: Wrapper -->

			<div class="d-flex" id="wrapper">

				<!-- Start: Sidebar -->

				<div id="sidebar-wrapper" style="background-color: #2F3436">

					<div class="sidebar-heading text-center"></div>

					<div class="list-group list-group-flush">

						<span class="dashboard-title font-weight-bold mb-1 pl-3 mt-5">Analyse und Evaluation</span>

						<button id="button_display_start" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.START)">Lehr-Lernmittel evaluieren</button>

						<button id="button_display_anlegen" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.ANLEGEN)">Gruppenevaluation anlegen</button>

						<button id="button_display_auswerten" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.AUSWERTEN)">Evaluationsergebnisse laden</button>

						<span class="dashboard-title font-weight-bold mb-1 pl-3 mt-5">Auswertung</span>

						<button id="button_display_overallView" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.OVERALL)">

							<svg width="1.2em" height="1.2em" viewBox="0 0 16 16"
								class="bi bi-pie-chart-fill list-group-icon" fill="currentColor"
								xmlns="http://www.w3.org/2000/svg">
								<path
									d="M15.985 8.5H8.207l-5.5 5.5a8 8 0 0 0 13.277-5.5zM2 13.292A8 8 0 0 1 7.5.015v7.778l-5.5 5.5zM8.5.015V7.5h7.485A8.001 8.001 0 0 0 8.5.015z" />
							</svg>Ãœbersicht

						</button>

						<button id="button_display_chart1" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.CHART1)">

							<svg width="1.2em" height="1.2em" viewBox="0 0 16 16"
								class="bi bi-book-half list-group-icon" fill="currentColor"
								xmlns="http://www.w3.org/2000/svg">

								<path fill-rule="evenodd"
									d="M8.5 2.687v9.746c.935-.53 2.12-.603 3.213-.493 1.18.12 2.37.461 3.287.811V2.828c-.885-.37-2.154-.769-3.388-.893-1.33-.134-2.458.063-3.112.752zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z" />

							</svg>Curriculum & Bildungsstandards

						</button>

						<button id="button_display_chart2" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.CHART2)">

							<svg width="1.2em" height="1.2em" viewBox="0 0 16 16" class="bi bi-signpost list-group-icon"
								fill="currentColor" xmlns="http://www.w3.org/2000/svg">
								<path d="M7 1.414V4h2V1.414a1 1 0 0 0-2 0z" />
								<path fill-rule="evenodd"
									d="M12.532 5H2v4h10.532l1.666-2-1.666-2zM2 4a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h10.532a1 1 0 0 0 .768-.36l1.933-2.32a.5.5 0 0 0 0-.64L13.3 4.36a1 1 0 0 0-.768-.36H2z" />
								<path d="M7 10h2v6H7v-6z" />

							</svg>Diskursive Positionierung

						</button>

						<button id="button_display_chart3" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.CHART3)">

							<svg width="1.2em" height="1.2em" viewBox="0 0 16 16"
								class="bi bi-aspect-ratio-fill list-group-icon" fill="currentColor"
								xmlns="http://www.w3.org/2000/svg">

								<path fill-rule="evenodd"
									d="M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13zm1 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 1 0V5h2.5a.5.5 0 0 0 0-1h-3zm11 8a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-1 0V11h-2.5a.5.5 0 0 0 0 1h3z" />

							</svg>Makrodidaktische Fundierung

						</button>

						<button id="button_display_chart4" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.CHART4)">

							<svg width="1.2em" height="1.2em" viewBox="0 0 16 16"
								class="bi bi-aspect-ratio list-group-icon" fill="currentColor"
								xmlns="http://www.w3.org/2000/svg">

								<path fill-rule="evenodd"
									d="M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5v-9zM1.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z" />
								<path fill-rule="evenodd"
									d="M2 4.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1H3v2.5a.5.5 0 0 1-1 0v-3zm12 7a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H13V8.5a.5.5 0 0 1 1 0v3z" />

							</svg>Mikrodidaktische Fundierung

						</button>

						<button id="button_display_chart5" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.CHART5)">

							<svg width="1.2em" height="1.2em" viewBox="0 0 16 16"
								class="bi bi-card-checklist list-group-icon" fill="currentColor"
								xmlns="http://www.w3.org/2000/svg">

								<path fill-rule="evenodd"
									d="M14.5 3h-13a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
								<path fill-rule="evenodd"
									d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z" />

							</svg>Kognitive Strukturierung

						</button>

						<button id="button_display_chart6" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.CHART6)">

							<svg width="1.3em" height="1.2em" viewBox="0 0 17 16"
								class="bi bi-image-fill list-group-icon" fill="currentColor"
								xmlns="http://www.w3.org/2000/svg">

								<path fill-rule="evenodd"
									d="M.002 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-12a2 2 0 0 1-2-2V3zm1 9l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094L15.002 9.5V13a1 1 0 0 1-1 1h-12a1 1 0 0 1-1-1v-1zm5-6.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z" />

							</svg>Bild- und Textkomposition

						</button>

						<button id="button_display_chart7" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.CHART7)">

							<svg width="1.2em" height="1.2em" viewBox="0 0 16 16"
								class="bi bi-check-square-fill list-group-icon" fill="currentColor"
								xmlns="http://www.w3.org/2000/svg">

								<path fill-rule="evenodd"
									d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm10.03 4.97a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />

							</svg>Aufgabendesign

						</button>

						<button id="button_display_chart8" class="list-group-item list-group-item-action mb-3"
							onclick="displayController(DISPLAY.CHART8)">

							<svg width="1.2em" height="1.2em" viewBox="0 0 16 16" class="bi bi-eye-fill list-group-icon"
								fill="currentColor" xmlns="http://www.w3.org/2000/svg">

								<path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z" />
								<path fill-rule="evenodd"
									d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z" />

							</svg>Anwendungstransparenz

						</button>

						<span class="dashboard-title font-weight-bold mb-1 mt-3 pl-3">Weiteres</span>

						<!--<button id="button_display_PDF" class="list-group-item list-group-item-action" onclick="displayController(DISPLAY.PDF)">-->
						<button id="button_display_PDF" data-toggle="modal" data-target="#DruckansichtModal"
							class="list-group-item list-group-item-action" onclick="printview()">

							<svg width="1.2em" height="1.2em" viewBox="0 0 16 16"
								class="bi bi-arrow-down-square-fill list-group-icon" fill="currentColor"
								xmlns="http://www.w3.org/2000/svg">
								<path fill-rule="evenodd"
									d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z" />
							</svg>Druckansicht
							<div class="new p-1 pl-3 pr-3">Neu</div>

						</button>
						<div class="modal fade" id="DruckansichtModal" tabindex="-1" role="dialog"
							aria-labelledby="DruckansichtModalLabel" aria-hidden="true">
							<div class="modal-dialog" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="DruckansichtModalLabel">Information</h5>
										<button type="button" class="close" data-dismiss="modal" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">
										WÃ¤hlen Sie <b>MenÃ¼</b> um zurÃ¼ck zu gelangen. Mit Rechtsklick am Rand der Seite
										kÃ¶nnen Sie nun <b>Drucken...</b> auswÃ¤hlen.
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-secondary"
											data-dismiss="modal">Verstanden.</button>
									</div>
								</div>
							</div>
						</div>

						<button id="button_display_JSON" class="list-group-item list-group-item-action"
							onclick="displayController(DISPLAY.JSON)">

							<svg width="1.2em" height="1.2em" viewBox="0 0 16 16"
								class="bi bi-code-square list-group-icon" fill="currentColor"
								xmlns="http://www.w3.org/2000/svg">

								<path fill-rule="evenodd"
									d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z">
								</path>
								<path fill-rule="evenodd"
									d="M6.854 4.646a.5.5 0 0 1 0 .708L4.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0zm2.292 0a.5.5 0 0 0 0 .708L11.793 8l-2.647 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708 0z">
								</path>

							</svg>EintrÃ¤ge im JSON-Format

						</button>

					</div>

				</div>

				<!-- Ende: Sidebar -->

				<!-- Beginn: Page Content -->

				<div id="page-content-wrapper">

					<nav class="navbar navbar-expand-lg navbar-dashboard">

						<button class="btn btn-primary btn-toggle" id="menu-toggle">

							<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-layout-sidebar-inset mr-1"
								fill="currentColor" xmlns="http://www.w3.org/2000/svg" style="margin-bottom:-2px">

								<path fill-rule="evenodd"
									d="M14 2H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zM2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2z" />
								<path d="M3 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z" />
							</svg> MenÃ¼
						</button>
						<small class="ml-auto font-weight-bold text-muted mr-1">
							Fach: Geschichte
						</small>

					</nav>

					<!-- Start: UMFRAGE -->

					<div class="container-fluid" id="display_umfrage">

						<!-- Row _UMFRAGE Start -->

						<div class="row justify-content-center">

							<!-- Col _UMFRAGE Start -->

							<div class="col">

								<!-- Canvas _UMFRAGE Start -->

								<div>

									<div class="text-left">

										<div class="container-fluid grey-border mt-3">

											<div class="row pt-4 bg-white">

												<!-- Initialisierung der Umfrage Start -->

												<!--													<div style="background:transparent;" class="mt-xs-3 mt-sm-3 m-md-5 m-lg-5 mb-3" id="surveyElementContainer">-->

												<div id="surveyElement" class="p-xs-3 p-sm-5 p-md-5 p-lg-5"></div>

												<div class="progress">

													<div class="progress-bar" role="progressbar" aria-valuenow="25"
														aria-valuemin="0" aria-valuemax="100"></div>

												</div>

												<!--													</div>-->

												<!-- <script type="text/javascript" src="/js/history/index.js"></script> -->

												<!-- Initialisierung der Umfrage End -->

											</div>

										</div>


									</div>

								</div>

								<!-- Canvas _UMFRAGE Ende -->

							</div>

							<!-- Col _UMFRAGE Ende -->

						</div>

						<!-- Row _UMFRAGE Ende -->

					</div>

					<!-- Ende: UMFRAGE -->

					<!-- Start: WILLKOMMEN -->

					<div class="p-md-5 p-lg-5 m-md-3 m-lg-5 mt-5 text-center" id="display_willkommen">

						<p
							class="font-weight-normal lead-text pt-xs-1 pt-sm-1 pt-md-5 pt-lg-5 m-xs-1 m-sm-3 px-xs-1 px-sm-1 px-md-3 px-lg-3">
							<strong>Analysieren und bewerten Sie ein Bildungsmedium.</strong>
						</p>

						<div class="video-container-wrapper pb-3 pt-3 px-3 mx-auto">

							<div class="video-container">

								<iframe width="480" height="270" src="https://www.youtube.com/embed/SsMzuQGLJJ0"
									title="YouTube video player" frameborder="0"
									allowfullscreen="allowfullscreen"></iframe>

							</div>

						</div>

						<p
							class="font-weight-normal lead-text pt-xs-1 pt-sm-1 pt-md-3 pt-lg-3 px-xs-1 px-sm-1 px-md-3 px-lg-3 uebersicht-details mx-3">
							Sie haben die MÃ¶glichkeit, <strong>ein Lehr-Lernmittel zu bewerten</strong>, an
							<strong>einer Gruppenevaluation eines Bildungsmediums teilzunehmen</strong> sowie
							<strong>bereits vorhandene Bewertungssergebnisse</strong> zu laden. Nutzen Sie dazu das MenÃ¼
							am linken Bildschirmrand.
						</p>

					</div>

					<!-- Ende: WILLKOMMEN -->

					<!-- Start: START -->

					<div class="container-fluid" id="display_start">

						<!-- Row _START -->

						<div class="row justify-content-center">

							<!-- Col _START -->

							<div class="bg-white col grey-border mt-xs-3 mt-sm-3 m-md-3 m-lg-3 pt-5 pb-5 text-center">

								<p class="mb-3 mt-5">

									Analysieren beziehungsweise evaluieren Sie ein Lehr-Lernmittel.

								</p>

								<p class="mt-0 uebersicht-details">

									Sie erhalten im Anschluss einen <strong>12-stelligen Code</strong> mit dem Sie Ihre
									Bewertung teilen und erneut aufrufen kÃ¶nnen.

								</p>

								<button class="btn btn-green ml-1 mr-1 mb-3" onclick="startEvaluation()">Lehr-Lernmittel
									evaluieren</button>

								<p class="mb-3 mt-5">

									Nehmen Sie an einer Gruppenevaluation teil.

								</p>

								<p class="mt-0 uebersicht-details">

									Sie benÃ¶tigen zur Teilnahme an einer Gruppenevaluation Ihren <strong>10-stelligen
										Gruppencode</strong>.

								</p>

								<div class="mt-3">

									<input class="pt-2 pb-1 pl-3 pr-3 mb-3  ml-1 mr-1text-center" type="text"
										id="group_id" placeholder="10-stelliger-Code" style="width:10.5em;">

									<button class="btn btn-green ml-1 mr-1"
										onclick="startGroupEvaluation();">teilnehmen</button>

									<br>

									<div id="teilnehmen_error" style="color: red;"></div>

								</div>

							</div>

							<!-- Col _START Ende -->

						</div>

						<!-- Row _START Ende -->

					</div>

					<!-- Ende START -->

					<!-- Start: ANLEGEN -->

					<div class="container-fluid" id="display_anlegen">

						<!-- Row _ANLEGEN Start -->

						<div class="row justify-content-center">

							<!-- Col _ANLEGEN Start -->

							<div class="bg-white col grey-border mt-xs-3 mt-sm-3 m-md-3 m-lg-3 pt-5 pb-5 px-xs-1 px-sm-3 px-md-3 px-lg-5 text-left"
								id="survey_anlegen1">

								<p class="mb-3 mt-5 text-center">

									<strong>Legen Sie hier eine neue Gruppenevaluation an.</strong>
								</p>

								<p class="mt-0 text-center uebersicht-details">

									Geben Sie hier die Basisdaten des Lehr-Lernmittels ein, die fÃ¼r alle
									Teilnehmer*innen Ã¼bernommen werden. Sie erhalten nach Abschluss einen
									<strong>10-stelligen Gruppencode</strong>, mit dem Sie andere Teilnehmende zu Ihrer
									Gruppenevaluation einladen kÃ¶nnen.

								</p>

								<div class="mt-5">

									Wie lautet der Name des Lehr-Lernmittels?

									<input class="form-control" type="text" id="form-preset-lehrmittel">

									<br>

									Bitte geben Sie den Link zum Lehr-Lernmittel an (optional)?

									<input class="form-control" type="text" id="form-preset-link">

									<br>

									Welchem Fach ist das Lehr-Lernmittel zugeordnet?

									<select class="form-control" id="form-preset-fach">
										<option selected="selected" disabled="disabled" value="">Bitte wÃ¤hlen Sie ein
											Fach...</option>
										<option>Keine Angabe</option>
										<option>Biologie</option>
										<option>Chemie</option>
										<option>Deutsch</option>
										<option>Englisch</option>
										<option>Erdkunde / Geographie</option>
										<option>Ethik</option>
										<option>FranzÃ¶sich</option>
										<option>Geschichte</option>
										<option>Informatik / IT</option>
										<option>Kunst / Werken</option>
										<option>Latein</option>
										<option>Mathematik</option>
										<option>Musik</option>
										<option>PÃ¤dagogik</option>
										<option>Philosophie</option>
										<option>Physik</option>
										<option>Psychologie</option>
										<option>Religion</option>
										<option>Sozialkunde / Politik</option>
										<option>Sport</option>
										<option>Sprachen (andere)</option>
										<option>Sonstiges Fach</option>
									</select>

									<!-- TO DO: set options dynamically according to variable fach in objects.js-->
									<!-- <script>

									</script> -->

									<br>

									Welcher Schulart ist das Lehr-/ Lernmittel zugeordnet?

									<br>

									<select class="form-control" id="form-preset-schulart">
										<option selected="selected" disabled="disabled" value="">Bitte wÃ¤hlen Sie eine
											Schulart...</option>
										<option>Keine Angabe</option>
										<option>Abendschule</option>
										<option>Alternatives Schulkonzept</option>
										<option>Berufsfachschule</option>
										<option>Berufskolleg</option>
										<option>Berufsoberschule</option>
										<option>Berufsschule</option>
										<option>Bildungskolleg</option>
										<option>Fachakademie</option>
										<option>Fachhochschule</option>
										<option>Fachoberschule</option>
										<option>Fachschule</option>
										<option>FÃ¶rderschule</option>
										<option>Gemeinschaftsschule</option>
										<option>Gesamtschule</option>
										<option>Grundschule</option>
										<option>Gymnasium</option>
										<option>Hochschule</option>
										<option>Internationale Schule</option>
										<option>Mittelschule</option>
										<option>Realschule</option>
										<option>Schule besonderer Art</option>
										<option>Schule fÃ¼r Kranke</option>
										<option>Sekundarschule</option>
										<option>Volkshochschule</option>
										<option>Vorschule</option>
										<option>Wirtschaftsschule</option>
										<option>Sonstige Schule</option>
									</select>

									<!-- TO DO: set options dynamically according to variable schularten in objects.js-->
									<!-- <script>

									</script> -->

									<br>

									<br>

									<div class="text-center">

										<button class="btn btn-green ml-1 mr-1"
											onclick="createEvaluationPresetsForGroup();">Gruppenevaluation anlegen</button>

									</div>

									<br>

									<div id="createEvaluationPresetsForGroup_error" style="color: red;"></div>

								</div>

							</div>

							<!-- Col _ANLEGEN Ende -->

						</div>

						<!-- Row _ANLEGEN Ende -->

					</div>

					<!-- Ende: ANLEGEN -->

					<!-- Start: ANLEGEN_NEXT -->

					<div class="container-fluid" id="display_anlegen_next">

						<!-- Beginn Container _ANLEGEN_NEXT -->

						<div class="container-fluid">

							<!-- Row _ANLEGEN_NEXT Start -->

							<div class="row justify-content-center">

								<!-- Col _ANLEGEN_NEXT Start -->

								<div class="col">

									<!-- Canvas _ANLEGEN_NEXT Start -->

									<div>

										<div class="text-left">

											<div class="container-fluid grey-border mt-3">

												<div class="row pt-4 bg-white">

													<div class="bg-white mt-xs-3 mt-sm-3 m-md-5 m-lg-5 pt-5 pb-5 pl-5 pr-5 text-center"
														style="box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);">
														<p class="mt-5">Es wurde erfolgreich eine Gruppenevaluation
															angelegt. Bitte kopieren Sie den angegebenen Code und geben
															diesen an die weiteren Teilnehmer*innen weiter. Sie kÃ¶nnen
															direkt fortfahren und Ihre eigenen Bewertung vornehmen, wenn
															Sie mÃ¶chten.</p>

														<div class="mt-3">
															<div id="anlegen_next_message" style="color: green;"></div>
															<button class="btn btn-green ml-1 mr-1"
																onclick="startGroupEvaluation();">Eigene Bewertung
																vornehmen</button>
														</div>

													</div>



												</div>

											</div>


										</div>

									</div>

									<!-- Canvas _ANLEGEN_NEXT Ende -->

								</div>

								<!-- Col _ANLEGEN_NEXT Ende -->

							</div>

							<!-- Row _ANLEGEN_NEXT Ende -->

						</div>

						<!-- Ende Container _ANLEGEN_NEXT -->

					</div>

					<!-- Ende: ANLEGEN_NEXT -->

					<!-- Start: AUSWERTEN -->

					<div class="container-fluid" id="display_auswerten">

						<!-- Row _AUSWERTEN Start -->

						<div class="row justify-content-center">

							<!-- Col _AUSWERTEN Start -->

							<div class="bg-white col grey-border mt-xs-3 mt-sm-3 m-md-3 m-lg-3 pt-5 pb-5 text-center">

								<!-- Canvas _AUSWERTEN Start -->

								<p class="mt-5">Laden Sie die Ergebnisse einer <strong>Gruppenevaluation</strong>
									mittels Ihres Gruppencodes (10-stellig).</p>

								<div class="mt-3">

									<input class="pt-2 pb-1 pl-3 pr-3 mb-3 ml-1 mr-1 text-center" type="text"
										id="loadEvaluationGroup" placeholder="10-stelliger-Code" style="width:10.5em;">
									<button class="btn btn-green ml-1 mr-1" onclick="getEvaluationGroup();">Gruppenergebnis
										laden</button>

									<div id="getEvaluationGroup_error" style="color: red;"></div>

								</div>

								<div class="mt-5">

									<p>Laden Sie die Ergebnisse einer <strong>Einzelevaluation</strong> mittels Ihres
										Einzelcodes (12-stellig).</p>

									<div class="mt-3">

										<input class="pt-2 pb-1 pl-3 pr-3 mb-3 ml-1 mr-1 text-center" type="text"
											id="loadEvaluation" placeholder="12-stelliger-Code" style="width:10.5em;">
										<button class="btn btn-green ml-1 mr-1"
											onclick="getEvaluation();">Einzelergebnis laden</button>

										<br>

										<br>

										<div id="getEvaluation_error" style="color: red;"></div>

									</div>

								</div>

								<!-- Canvas _AUSWERTEN Ende -->

							</div>

							<!-- Col _AUSWERTEN Ende -->

						</div>

						<!-- Ende: Row _AUSWERTEN -->

					</div>

					<!-- Ende: AUSWERTEN -->


					<!-- Ende: Overall Chart -->

					<!-- Start: Dankesnachricht -->

					<div class="p-md-5 p-lg-5 m-md-3 m-lg-5 mt-5 text-center" id="display_thanks">

						<p
							class="font-weight-normal lead-text pt-xs-1 pt-sm-1 pt-md-5 pt-lg-5 m-xs-1 m-sm-3 px-xs-1 px-sm-1 px-md-3 px-lg-3">
							Ihre Daten in <strong>visualisierter Form finden Sie links unter "Auswertung"</strong></p>
						<p class="resultate_info lead-text px-xs-1 px-sm-1 px-md-3 px-lg-3">Wir hoffen, Ihre Bewertungen
							helfen Ihnen bei der Entscheidung Ã¼ber die <strong>Nutzung des Bildungsmediums</strong> in
							Unterricht und Schule.</p>

					</div>

					<!-- Ende: Dankesnachricht -->



					<!-- Start: overallChart -->

					<div class="container-fluid" id="display_overallView">

						<!-- Beginn Container Ãœbersicht -->

						<div class="container-fluid">

							<!-- Row Ãœbersicht Start -->

							<div class="row justify-content-center">

								<!-- Col Ãœbersicht Start -->

								<div class="col">

									<!-- Canvas Ãœbersicht Start -->

									<div id="uebersicht">

										<div class="text-left">

											<div class="container-fluid grey-border mt-3">

												<div class="row pt-4 bg-white">

													<div class="col">

														<!-- ids text chartÃ¼bersicht -->

														<p id="lernmittel" class="lehr-lernmittel-name mb-0">
															Name des Lehr-Lernmittels
														</p>

														<!-- text-container Ã¼ber gesamtchart -->
														<div id="text-container" class="container-fluid mb-3">

															<div class="row pt-1 pb-1 lehr-lernmittel-heading">

																<div id="div-gruppencode"
																	class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-5 pl-0 pr-0">

																	<p class="lehr-lernmittel-heading mb-2 mt-3 pl-3">
																		Gruppencode</p>

																	<div style="background-color: #f1f3fa; border-bottom-left-radius: 7px; border-top-left-radius: 7px; min-height:76px;"
																		class="pt-3 pb-3 pl-3 pr-3">

																		<a id="gruppencode"
																			style="word-break:break-word; font-weight:400; font-size:80%;"
																			target="_blank" rel="noopener"
																			alt="Verlinkung zum Lehr- und Lernmittel"></a>

																	</div>

																</div>

																<div id="div-anzahl"
																	class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-5 pl-0 pr-0">

																	<p class="lehr-lernmittel-heading mb-2 mt-3 pl-3">
																		Anzahl DatensÃ¤tze</p>

																	<div style="background-color: #f1f3fa; border-bottom-left-radius: 7px; border-top-left-radius: 7px; min-height:76px;"
																		class="pt-3 pb-3 pl-3 pr-3">

																		<a id="anzahl"
																			style="word-break:break-word; font-weight:400; font-size:80%;"
																			target="_blank" rel="noopener"
																			alt="Verlinkung zum Lehr- und Lernmittel"></a>

																	</div>

																</div>

																<div id="div-evaluationscode"
																	class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-5 pl-0 pr-0">

																	<p class="lehr-lernmittel-heading mb-2 mt-3 pl-3">
																		Ihr Abrufcode</p>

																	<div style="background-color: #f1f3fa; border-bottom-left-radius: 7px; border-top-left-radius: 7px; min-height:76px;"
																		class="pt-3 pb-3 pl-3 pr-3">

																		<a id="evaluationscode"
																			style="word-break:break-word; font-weight:400; font-size:80%;"
																			target="_blank" rel="noopener"
																			alt="Verlinkung zum Lehr- und Lernmittel"></a>

																	</div>

																</div>

																<div id="div-verlinkung"
																	class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-5 pl-0 pr-0">

																	<p class="lehr-lernmittel-heading mb-2 mt-3 pl-3">
																		Verlinkung</p>

																	<div style="background-color: #f1f3fa; border-bottom-left-radius: 7px; border-top-left-radius: 7px; min-height:76px;"
																		class="pt-3 pb-3 pl-3 pr-3">

																		<a id="verlinkung"
																			style="word-break:break-word; font-weight:400; font-size:80%;"
																			target="_blank" rel="noopener"
																			alt="Verlinkung zum Lehr- und Lernmittel"></a>

																	</div>

																</div>

																<div id="div-schulart"
																	class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-3 pl-0 pr-0">

																	<p class="lehr-lernmittel-heading mb-2 mt-3 pl-3">
																		Schulart</p>

																	<div style="background-color: #f1f3fa; min-height:76px;"
																		class="pt-3 pb-3 pl-3 pr-3">

																		<a id="schulart"
																			style="word-break:break-word; font-weight:400; font-size:80%;"></a>

																	</div>

																</div>

																<div id="div-fach"
																	class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-2 mt-3 pl-0 pr-0">

																	<p class="mb-2 pl-3 lehr-lernmittel-heading">Fach
																	</p>

																	<div style="background-color: #f1f3fa; min-height:76px;"
																		class="pt-3 pb-3 pl-3">

																		<a id="fach"
																			style="word-break:break-word; font-weight:400; font-size:80%;"></a>

																	</div>

																</div>

																<div id="div-evaluationsdatum"
																	class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-2 mt-3 pl-0 pr-0">

																	<p class="mb-2 pl-3 lehr-lernmittel-heading">Evaluationsdatum
																	</p>

																	<div style="background-color: #f1f3fa; border-bottom-right-radius: 7px; border-top-right-radius: 7px; min-height:76px;"
																		class="pt-3 pb-3 pl-3 pr-3">

																		<a id="evaluationsdatum"
																			style="word-break:break-word; font-weight:400; font-size:80%;"></a>

																	</div>

																</div>

																<div id="div-meinung"
																	class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-3 pl-0 pr-0">

																	<p class="mb-2 pl-3 lehr-lernmittel-heading">
																		Meinung</p>

																	<div style="background-color: #f1f3fa; border-radius: 7px; min-height:76px;"
																		class="pt-3 pb-3 pl-3 pr-3">

																		<a id="meinung"
																			style="word-break:break-word; font-weight:400; font-size:80%;"></a>

																	</div>

																</div>

																<div id="div-kritik"
																	class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-3 pl-0 pr-0">

																	<p class="mb-2 pl-3 lehr-lernmittel-heading">
																		Kritik</p>

																	<div style="background-color: #f1f3fa; border-radius: 7px; min-height:76px;"
																		class="pt-3 pb-3 pl-3 pr-3">

																		<a id="kritik"
																			style="word-break:break-word; font-weight:400; font-size:80%;"></a>

																	</div>

																</div>																

																<div id="div-anmerkungen"
																	class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-3 pl-0 pr-0">

																	<p class="mb-2 pl-3 lehr-lernmittel-heading">
																		Anmerkungen</p>

																	<div style="background-color: #f1f3fa; border-radius: 7px; min-height:76px;"
																		class="pt-3 pb-3 pl-3 pr-3">

																		<a id="anmerkungen"
																			style="word-break:break-word; font-weight:400; font-size:80%;"></a>

																	</div>

																</div>

															</div>

														</div>

													</div>

												</div>

											</div>

											<div class="container-fluid grey-border mt-3">

												<div class="row pt-4 bg-white">

													<div class="col text-right" style="max-width:fit-content;">

														<svg width="2em" height="2em" viewBox="0 0 16 16"
															class="bi bi-info-circle-fill" fill="currentColor"
															xmlns="http://www.w3.org/2000/svg" style="color:#009688;">
															<path fill-rule="evenodd"
																d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
														</svg>

													</div>

													<div class="col pl-0">

														<p style="font-size:80% !important;">
															Ihre Bewertungen werden in dieser Darstellung in
															absteigender Reihenfolge - <strong>der Wertigkeit
																nach</strong> - visualisiert. WÃ¤hrend <em>0</em> fÃ¼r
															<em>nicht bewertbar</em> steht, reprÃ¤sentieren <em>1 =
																trifft nicht zu</em>, <em>2 = trifft weniger zu</em>,
															<em>3 = trifft mehr zu</em> und <em>4 = trifft voll zu</em>.
															Diese Indexierung gilt fÃ¼r alle Auswertungen.

														</p>

													</div>

												</div>

											</div>

										</div>

										<!-- TO DO: Ã¼berschriften und ergÃ¤nzungstext anpassen -->
										<!-- ids charts: overallChart, radarChart, chart1, ..., chart8, -->

										<div class="d-flex justify-content-center mt-3 mb-3 p-3 bg-white grey-border"
											style="height:1200px !important;">

											<canvas id="overallChart"
												style="max-width: 1450px; height: 1200px !important;"></canvas>

										</div>

										<br>
										<br>
										<br>
										<br>
										<br>
										<br>

										<div class="d-flex justify-content-center mt-3 mb-3 p-3 bg-white grey-border"
											style="height:700px !important;">

											<canvas id="radarChart"
												style="max-width: 1450px; height: 700px !important;"></canvas>

										</div>

									</div>

									<!-- Canvas Ãœbersicht Ende -->

								</div>

								<!-- Col Ãœbersicht Ende -->

							</div>

							<!-- Row Ãœbersicht Ende -->

						</div>

						<!-- Ende Container Ãœbersicht -->

					</div>

					<!-- Ende: Overall Chart -->

					<br>
					<br>
					<br>
					<br>
					<br>
					<br>
					<br id="append_after_here">

					<!-- Start BarCharts -->

					<script>
						function createChartHTML(index, title, description) {
							return `
								<div class="container-fluid mt-5 px-xl-5 px-lg-5 px-md-3 px-sm-3 px-xs-1" id="display_chart${index}">

								<h2 class="font-weight-normal lead-text mb-0"><strong>${title}</strong></h2>

								<!-- Row Start -->

								<div class="row justify-content-center mt-4">

									<!-- Col Start -->

									<div class="col mb-3 col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-6">

										<!-- Canvas Start -->

										<div class="grey-border">

											<div class="d-flex justify-content-center p-3 bg-white">

												<canvas id="chart${index}" style="max-width: 480px; max-height: 340;"></canvas>

											</div>

										</div>

										<!-- Canvas Ende -->

									</div>

									<!-- Col Ende -->

									<!-- Col Start -->

									<div class="col d-flex">

										<p class="resultate_info">${description}</p>

									</div>

									<!-- Col Ende -->

								</div>

								<!-- Row Ende -->

								</div>
							`
						}

						let _html = [];
						aaer_geschichte.forEach((element, index) => {
							_html.push(createChartHTML(index+1, element['title_overview'], element['description_overview']))
						})

						document.getElementById('append_after_here').insertAdjacentHTML('afterend', _html.join(''))

					</script>

					<!-- Ende BarCharts -->


					<div class="container-fluid grey-border mt-3" id="printview-text"></div>

					<!-- Beginn Container pdf -->

					<div class="container-fluid" id="display_PDF">

						<!-- Row pdf Start -->

						<div class="row justify-content-center">

							<!-- Col pdf Start -->

							<div class="col">

								<!-- Canvas pdf Start -->

								<div id="pdfChartuebersicht">

									<div class="d-flex justify-content-center mt-1 mb-5 p-3">

										<div class="p-md-5 p-lg-5 m-md-3 m-lg-5 text-center">

										</div>

									</div>

								</div>

								<!-- Canvas pdf Ende -->

							</div>

							<!-- Col pdf Ende -->

						</div>

						<!-- Row pdf Ende -->

					</div>

					<!-- Ende Container pdf -->



					<!-- Beginn Container JSON -->

					<div class="container-fluid" id="display_JSON">

						<!-- Row Start -->

						<div class="row">

							<div class="col">

								<div class="mt-3" id="AAER_JSON">

									<pre>

						              <!-- Survey Results Start als JSON Ausgabe -->

						              <div id="surveyResult" class="pl-5"></div>

										<!-- Survey Results Ende als JSON Ausgabe -->

						            </pre>

								</div>

							</div>

							<!-- Col 2 Ende -->

						</div>

						<!-- Row Ende -->

					</div>

					<!-- Ende Container JSON -->



				</div>

				<!-- Ende: Page Content -->

			</div>

			<!-- Ende: Wrapper -->

		</div>

	</div>

	<!-- Ende: Dashboard Div -->

	<!-- Front Start -->

	<div class="position-relative overflow-hidden p-1 p-md-5 m-md-3 text-center front-background">

		<!-- Lead Start -->

		<div class="row">

			<!-- Lead Row 1 Start -->

			<div class="col visibility_collapse pt-xs-1 pt-sm-1 pt-md-5 pt-lg-5">

				<!-- Carousel Start -->

				<div id="carouselExampleSlidesOnly" class="carousel slide" data-ride="carousel">

					<!-- Carousel Inner Start -->

					<div class="carousel-inner">

						<!-- Carousel Element 0 Start -->

						<div class="carousel-item active">

							<!-- Card Element 0 Start -->

							<div class="card">

								<div class="card-body">

									<p
										class="font-weight-normal lead-text pt-xs-1 pt-sm-1 pt-md-5 pt-lg-5 text-white carousel-text text-center">
										Nutzen Sie die <strong>Gruppenevaluation</strong> um gemeinsame Evaluationen in
										Ihrem Kollegium durchzufÃ¼hren.</p>

								</div>

							</div>

							<!-- Card Element 0 End -->

						</div>

						<!-- Carousel Element 0 End -->

						<!-- Carousel Element 1 Start -->

						<div class="carousel-item">

							<!-- Card Element 1 Start -->

							<div class="card">

								<div class="card-body">

									<p
										class="font-weight-normal lead-text pt-xs-1 pt-sm-1 pt-md-5 pt-lg-5 text-white carousel-text text-center">
										Ein <strong>mediendidaktisch fundiertes Online-Instrument</strong> zur Analyse
										und Evaluation von Bildungsmedien in der Schul- und Unterrichtspraxis.</p>

								</div>

							</div>

							<!-- Card Element 1 End -->

						</div>

						<!-- Carousel Element 1 End -->

						<!-- Carousel Element 2 Start -->

						<div class="carousel-item">

							<!-- Card Element 2 Start -->

							<div class="card">

								<div class="card-body">

									<p
										class="font-weight-normal lead-text pt-xs-1 pt-sm-1 pt-md-5 pt-lg-5 text-white carousel-text text-center">
										Ein <strong>Reflexionsintrument</strong> und eine
										<strong>Entscheidungshilfe</strong> zur pÃ¤dagogisch-didaktischen Auswahl von
										Lehr- und Lernmitteln.
									</p>

								</div>

							</div>

							<!-- Card Element 2 End -->

						</div>

						<!-- Carousel Element 2 End -->

						<!-- Carousel Element 3 Start -->

						<div class="carousel-item">

							<!-- Card Element 3 Start -->

							<div class="card">

								<div class="card-body">

									<p
										class="font-weight-normal lead-text pt-xs-1 pt-sm-1 pt-md-5 pt-lg-5 text-white carousel-text text-center">
										Ein <strong>Leitfaden fÃ¼r AutorInnen und ProduzentInnen</strong> von
										Bildungsmedien / Open Educational Resources (OER).</p>

								</div>

							</div>

							<!-- Card Element 3 End -->

						</div>

						<!-- Carousel Element 3 End -->

						<!-- Carousel Element 4 Start -->

						<div class="carousel-item">

							<!-- Card Element 4 Start -->

							<div class="card">

								<div class="card-body">

									<p
										class="font-weight-normal lead-text pt-xs-1 pt-sm-1 pt-md-5 pt-lg-5 text-white carousel-text text-center">
										Ein <strong>Bewertungs- und PrÃ¼finstrument</strong> fÃ¼r Repositorien von Lehr-
										und Lernmitteln.</p>

								</div>

							</div>

							<!-- Card Element 4 End -->

						</div>

						<!-- Carousel Element 4 End -->

						<!-- Carousel Element 5 Start -->

						<div class="carousel-item">

							<!-- Card Element 5 Start -->

							<div class="card">

								<div class="card-body">

									<p
										class="font-weight-normal lead-text pt-xs-1 pt-sm-1 pt-md-5 pt-lg-5 text-white carousel-text text-center">
										Eine <strong>Entscheidungshilfe</strong> sowie ein <strong>Instrument zur
											Herstellung von Transparenz</strong> in Hinblick auf die Auswahl von Lehr-
										und Lernmitteln fÃ¼r Fachgremien in Schulen.</p>

								</div>

							</div>

							<!-- Card Element 5 End -->

						</div>

						<!-- Carousel Element 5 End -->

					</div>

					<!-- Carousel Inner End -->

				</div>

				<!-- Carousel End -->

			</div>

			<!-- Lead Row 1 End -->

		</div>

		<!-- Lead End -->

	</div>

	<!-- Front End -->

	<!-- Beginn Ergebnisse Div -->

	<div id="ergebnisse_container"></div>

	<!-- Ende Ergebnisse Div -->

	<!-- Navigation JS Start -->

	<script src="/js/navigation.js"></script>

	<!-- Navigation JS End -->

	<!-- Footer Start -->

	<div id="footer_container"></div>

	<!-- Footer End -->

	<!-- Footer JS Start -->

	<script src="/js/footer.js"></script>

	<!-- Footer JS End -->

	<!-- Display der Ergebnisse -->

	<script>

		// Start: Ãœbersicht - ErgÃ¤nzende Informationen


		// Ende: Ãœbersicht - ErgÃ¤nzende Informationen

		const DISPLAY = {
			UMFRAGE: "#display_umfrage",
			WILLKOMMEN: "#display_willkommen",
			START: "#display_start",
			ANLEGEN: "#display_anlegen",
			ANLEGEN_NEXT: "#display_anlegen_next",
			AUSWERTEN: "#display_auswerten",
			THANKS: "#display_thanks",
			OVERALL: "#display_overallView",
			CHART1: "#display_chart1",
			CHART2: "#display_chart2",
			CHART3: "#display_chart3",
			CHART4: "#display_chart4",
			CHART5: "#display_chart5",
			CHART6: "#display_chart6",
			CHART7: "#display_chart7",
			CHART8: "#display_chart8",
			JSON: "#display_JSON",
			FOOTER: "#footer_container"
		}


		function printview() {

			for (variable in DISPLAY) {
				$(DISPLAY[variable]).css("display", "none");
			}
			$("#text-container").css("display", "block");
			$(DISPLAY.OVERALL).css("display", "block");
			$(DISPLAY.CHART1).css("display", "block");
			$(DISPLAY.CHART2).css("display", "block");
			$(DISPLAY.CHART3).css("display", "block");
			$(DISPLAY.CHART4).css("display", "block");
			$(DISPLAY.CHART5).css("display", "block");
			$(DISPLAY.CHART6).css("display", "block");
			$(DISPLAY.CHART7).css("display", "block");
			$(DISPLAY.CHART8).css("display", "block");
			// $("#printview-text").css("display", "block");
			$(DISPLAY.FOOTER).css("display", "none");

			// document.getElementById("lernmittel").innerHTML = window.survey.data.Name;

			// document.getElementById("printview-text").innerHTML = 'Verlinkung: ' + window.survey.data.Verlinkung +
			// 	'<br> Schulart: ' + window.survey.data.Schulart +
			// 	'<br> Fach: ' + window.survey.data.Fach +
			// 	'<br> Eigene Anmerkungen: ' + window.survey.data['Eigene Anmerkungen'] +
			// 	'<br> Evaluationsdatum: ' + window.survey.data.Evaluationsdatum +
			// 	'<br>' +
			// 	'<br> <b>Diese AAER Evaluation ist abrufbar mit folgendem Code: ' + window.survey.data.Evaluationscode + '</b>';

			$("#wrapper").toggleClass("toggled");
		}


		function displayController(btn_enum) {
			for (variable in DISPLAY) {
				$(DISPLAY[variable]).css("display", "none");
			}
			$(btn_enum).css("display", "block");
			$(DISPLAY.FOOTER).css("display", "block");
			
			if (btn_enum == DISPLAY.OVERALL) {
				$("#text-container").css("display", "block");
			}
			clearErrorMessages();
		}

		buttons = [
			'button_display_overallView',
			'button_display_chart1',
			'button_display_chart2',
			'button_display_chart3',
			'button_display_chart4',
			'button_display_chart5',
			'button_display_chart6',
			'button_display_chart7',
			'button_display_chart8',
			'button_display_PDF',
			'button_display_JSON'
		];


		// helper functions
		function getDate() {
			let d = new Date();
			let month = d.getMonth() + 1;
			let day = d.getDate();
			return (('' + day).length < 2 ? '0' : '') + day + '.' + (('' + month).length < 2 ? '0' : '') + month + '.' + d.getFullYear();
		}

		function clearErrorMessages() {
			document.getElementById('teilnehmen_error').innerHTML = null;
			document.getElementById('getEvaluationGroup_error').innerText = null;
			document.getElementById('getEvaluation_error').innerText = null;
			document.getElementById('createEvaluationPresetsForGroup_error').innerText = null;
		}

		function visualize() {

			$('#div-gruppencode').css("display", "none");
			$('#div-anzahl').css("display", "none");
			$('#div-evaluationscode').css("display", "block");
			$('#div-verlinkung').css("display", "block");
			$('#div-schulart').css("display", "block");
			$('#div-fach').css("display", "block");
			$('#div-meinung').css("display", "block");
			$('#div-kritik').css("display", "block");
			$('#div-evaluationsdatum').css("display", "block");
			$('#div-anmerkungen').css("display", "block");
    
			document.getElementById('evaluationscode').innerHTML = survey.data['Evaluationscode'];
			document.getElementById('verlinkung').innerHTML = survey.data['Verlinkung'] ?? 'Keine Angabe';
			document.getElementById('schulart').innerHTML = survey.data['Schulart'] ?? 'Keine Angabe';
			document.getElementById('fach').innerHTML = survey.data['Fach'] ?? 'Keine Angabe';
			document.getElementById('meinung').innerHTML = survey.data['Meinung'] ?? 'Keine Angabe';
			document.getElementById('kritik').innerHTML = survey.data['Kritik'] ?? 'Keine Angabe';
			document.getElementById('evaluationsdatum').innerHTML = survey.data['Evaluationsdatum'];
			document.getElementById('anmerkungen').innerHTML = survey.data['Eigene Anmerkungen'] ?? 'Keine Angabe';
			
			// JSON-Ãœbersicht
			document.querySelector('#surveyResult').textContent = "" + JSON.stringify(survey.data, null, 4);

			generateCharts();
		}

		function visualizeGroup(group_id) {

			$('#div-gruppencode').css("display", "block");
			$('#div-anzahl').css("display", "block");
			$('#div-evaluationscode').css("display", "none");
			$('#div-verlinkung').css("display", "none");
			$('#div-schulart').css("display", "none");
			$('#div-fach').css("display", "none");
			$('#div-meinung').css("display", "none");
			$('#div-kritik').css("display", "none");
			$('#div-evaluationsdatum').css("display", "none");
			$('#div-anmerkungen').css("display", "block");
    
			document.getElementById('gruppencode').innerHTML = group_id;
			document.getElementById('anzahl').innerHTML = survey.data["Anzahl DatensÃ¤tze"] + ', fÃ¼r die Ermittlung der Durchschnittswerte wurden Antworten mit "nicht bewertbar / nicht relevant" ausgeschlossen';
			document.getElementById('anmerkungen').innerHTML = 'Details zu den Einzelevaluationen gibt es unter "EintrÃ¤ge im JSON-Format"';
		
			generateCharts();
		}

		
		// single evaluation
		function startEvaluation(saved_data = null) {

			let json = getJson();
			window.survey = new Survey.Model(json);  // global: window.

			$("#surveyElement").Survey({ model: survey });
			
			displayController(DISPLAY.UMFRAGE);
			buttons.forEach(btn => document.getElementById(btn).disabled = true);

			if (saved_data) {
				survey.data = saved_data;
				console.log(survey.data)
				
				index_last = window.survey.pages.length - 1
				survey.currentPage = survey.pages[index_last];
				
				alert('Etwas ist bei der Ãœbermittlung der Daten schiefgelaufen. Bitte versuchen Sie es erneut.')
			}

			
			survey.onComplete.add(function (sender, options) {
				// submitEvaluation(sender.data);  // index.js function
				submitEvaluation(survey.data);  // index.js function
			});

			$(".sv_complete_btn").click(function () {
				displayController(DISPLAY.THANKS);
				
				let status_request = new XMLHttpRequest();
				status_request.open('POST', 'https://staging.zlbib.uni-augsburg.de/');  // check internetverbindung

				status_request.onreadystatechange = function () {
					if (this.status == 200) {
						buttons.forEach(btn => document.getElementById(btn).disabled = false);
					} else {
						startEvaluation(saved_data = survey.data);  // fallback if connection fails
					}
				}
				status_request.send();
			});
			
		}


		// for single and group
		function submitEvaluation(data, group_id=null) {

			// survey.data.Evaluationsdatum = getDate(); wrong
			survey.setValue('Evaluationsdatum', getDate());

			let xhr = new XMLHttpRequest();
			xhr.open("POST", "https://staging.zlbib.uni-augsburg.de/saveEvaluation");

			xhr.onreadystatechange = function () {
				if (this.readyState == 4 && this.status == 200) {
					// wird im json view mit dargestellt
					survey.setValue('Evaluationscode', this.responseText);
					if(group_id) {
						survey.setValue('Gruppencode', group_id);
					}
					visualize();
				};
			}

			xhr.setRequestHeader("Content-Type", "application/json");
			xhr.send(JSON.stringify({"group_id": group_id ,"data": survey.data}));
		}


		function getEvaluation() {
			let single_id = document.getElementById('loadEvaluation').value;

			if (single_id.length === 12) {

				let xhr = new XMLHttpRequest();
				xhr.open("POST", "https://staging.zlbib.uni-augsburg.de/getEvaluation");

				xhr.onreadystatechange = function () {
					if (this.readyState == 4 && this.status == 200) {

						if (this.responseText.length > 0) {
							let json = getJson()
							window.survey = new Survey.Model(json);

							// let {single_id, group_id, data} = JSON.parse(this.responseText);
							// console.log("destructuring")
							// console.log(single_id)
							// console.log(group_id)
							// console.log(data)

							let { data } = JSON.parse(this.responseText);

							data.Evaluationscode = single_id;
							// data.Gruppencode = group_id;
							survey.data = data

							survey.onComplete.add(function (sender, options) {
	
								buttons.forEach(btn => document.getElementById(btn).disabled = false);
								displayController(DISPLAY.OVERALL);

								visualize();
							});
							survey.doComplete();

						} else {
							document.getElementById('getEvaluation_error').innerText = "Es konnten keine entsprechenden Daten geladen werden."
							
						}
					};

				};

				xhr.setRequestHeader("Content-Type", "application/json");
				xhr.send(JSON.stringify({ "single_id": single_id }));

			} else {
				document.getElementById('getEvaluation_error').innerText = "Es mÃ¼ssen genau 12 Zeichen sein.";
			}

		}


		// group evaluation
		function createEvaluationPresetsForGroup() {

				let lehrmittelName = document.getElementById('form-preset-lehrmittel').value;

				if (!lehrmittelName.replace(/\s/g, '').length) { // only whitespaces
					document.getElementById('createEvaluationPresetsForGroup_error').innerText = "Bitte Name des Lehr-/Lernmittels eingeben!"

				} else {
					let lehrmittelLink = document.getElementById('form-preset-link').value;
					if (!lehrmittelLink.replace(/\s/g, '').length) {
						lehrmittelLink = null;
					}

					let lehrmittelFach = document.getElementById('form-preset-fach').value;
					if (lehrmittelFach === '' || lehrmittelFach == 'Keine Angabe') {
						lehrmittelFach = null;
					}

					let lehrmittelSchulart = document.getElementById('form-preset-schulart').value;
					if (lehrmittelSchulart == '' || lehrmittelSchulart == 'Keine Angabe') {
						lehrmittelSchulart = null;
					}

					let presets = {
						"lehrmittelName": lehrmittelName,
						"lehrmittelLink": lehrmittelLink,
						"lehrmittelFach": lehrmittelFach,
						"lehrmittelSchulart": lehrmittelSchulart
					}

					let xhr = new XMLHttpRequest();
					xhr.open("POST", "https://staging.zlbib.uni-augsburg.de/createEvaluationPresetsForGroup");

					xhr.onreadystatechange = function () {
						if (this.readyState == 4 && this.status == 200) {
							let group_id = this.response;
							document.getElementById('anlegen_next_message').innerText = group_id;
							document.getElementById('group_id').value = group_id;
							displayController(DISPLAY.ANLEGEN_NEXT);

							// resolve(this.response);
						} else {
							document.getElementById('createEvaluationPresetsForGroup_error').innerText = "Fehler beim Erstellen."
						}
					}

					xhr.setRequestHeader("Content-Type", "application/json");
					console.log(presets)
					console.log(JSON.stringify(presets))
					xhr.send(JSON.stringify(presets));

				}

		}


		function getEvaluationGroup() {
			let group_id = document.getElementById('loadEvaluationGroup').value;

			if (group_id.length === 10) {

				let xhr = new XMLHttpRequest();
				xhr.open("POST", "https://staging.zlbib.uni-augsburg.de/getEvaluationGroup");

				xhr.onreadystatechange = function () {

					if (this.readyState == 4 && this.status == 200) {

						// array mit datensÃ¤tzen
						let evaluations = JSON.parse(this.responseText);

						console.log(evaluations[0])
						if (evaluations.length > 0) {  // && evaluations !== '[]'

							let gesamtEvaluation = {
								"Gruppencode": group_id,
								"Anzahl DatensÃ¤tze": evaluations.length,
								"Name": evaluations[0].data.Name
							};

							aaer_geschichte.forEach(dimension => {
								dimension.items.forEach(item => {
									let sum = 0;
									let nulls = 0;
									for (let i = 0; i < evaluations.length; i++) {
										let {single_id, data} = evaluations[i]
										console.log(single_id)
										console.log(data[item.name])
										if (data[item.name] > 0)
											sum+=data[item.name];
										else nulls++;
									}
									gesamtEvaluation[item.name] = sum/(evaluations.length - nulls);
								})
							})

							console.log(gesamtEvaluation)


							evaluations.forEach(evaluation => {
								let single_id = evaluation.single_id;
								delete evaluation.single_id;
								evaluation = evaluation.data;
								console.log(evaluation)
								evaluation.Evaluationscode = single_id;
							})

							let json = getJson()
							window.survey = new Survey.Model(json);
							survey.data = gesamtEvaluation;
							visualizeGroup(group_id);


							
							// alle datensÃ¤tze als json ausgeben
							let json_str = 'Gruppenevaluation:\n\n';
							json_str += JSON.stringify(gesamtEvaluation, null, 4);
							json_str += '\n\n';

							json_str += '\nAuflistung der zugehÃ¶rigen Einzelevaluationen: ';
						    evaluations.forEach( evaluation => {
								json_str += '\n\n' + JSON.stringify(evaluation.data, null, 4);
							})
							document.querySelector('#surveyResult').textContent = "\n\n" + json_str;

							buttons.forEach(btn => document.getElementById(btn).disabled = false);
							displayController(DISPLAY.OVERALL);
						
						} else {
							document.getElementById('getEvaluationGroup_error').innerText = "Keine Daten vorhanden."
						}

					} else {
						document.getElementById('getEvaluationGroup_error').innerText = "Es konnten keine entsprechenden Daten geladen werden."
					}

				}

				xhr.setRequestHeader("Content-Type", "application/json");
				xhr.send(JSON.stringify({ "group_id": group_id }));

			} else {
				document.getElementById('getEvaluationGroup_error').innerText = "Es mÃ¼ssen genau 10 Zeichen sein.";
			}			

		}


		function startGroupEvaluation(saved_data = null) {
			let group_id = document.getElementById('group_id').value;
			document.getElementById('group_id').value = null;

			if (group_id.length === 10) {

				let xhr = new XMLHttpRequest();
				xhr.open("POST", "https://staging.zlbib.uni-augsburg.de/getEvaluationPresetsForGroup");
				xhr.setRequestHeader("Content-Type", "application/json");
				xhr.send(JSON.stringify({ "group_id": group_id }));

				xhr.onreadystatechange = function () {
					if (this.readyState == 4 && this.status == 200) {

						let presets = JSON.parse(this.responseText);  // presets
						console.log(presets)
						console.log(presets.name ? true : false)
						console.log(presets.link ? true : false)
						console.log(presets.fach ? true : false)
						console.log(presets.schulart ? true : false)



						let json = getJson(true, presets.link ? true : false, presets.fach ? true : false, presets.schulart ? true : false)
						window.survey = new Survey.Model(json);  // global: window.

						survey.setValue('Name', presets.name);
						survey.setValue('Verlinkung', presets.link ?? 'Keine Angabe.');
						survey.setValue('Fach', presets.fach ?? 'Keine Angabe.');
						survey.setValue('Schulart', presets.schulart ?? 'Keine Angabe.');

						$("#surveyElement").Survey({ model: survey });

						displayController(DISPLAY.UMFRAGE);
						buttons.forEach(btn => document.getElementById(btn).disabled = true);

						if (saved_data) {
							survey.data = saved_data;
							console.log(survey.data)
							
							index_last = window.survey.pages.length - 1
							survey.currentPage = survey.pages[index_last];
							
							alert('Etwas ist bei der Ãœbermittlung der Daten schiefgelaufen. Bitte versuchen Sie es erneut.')
						}


						survey.onComplete.add(function (sender, options) {
							submitEvaluation(survey.data, group_id);
						});

						$(".sv_complete_btn").click(function () {
							displayController(DISPLAY.THANKS);
							
							let status_request = new XMLHttpRequest();
							status_request.open('POST', 'https://staging.zlbib.uni-augsburg.de/');  // check internetverbindung

							status_request.onreadystatechange = function () {
								if (this.status == 200) {
									buttons.forEach(btn => document.getElementById(btn).disabled = false);
								} else {
									startGroupEvaluation(saved_data = survey.data, group_id = group_id);  // fallback if connection fails
								}
							}
							status_request.send();
						});						
						

						
						
						} else {
							document.getElementById('teilnehmen_error').innerHTML = "Zum angegebenen Code wurde nichts gefunden!";
					}
				}


			} else {
				document.getElementById('teilnehmen_error').innerHTML = "Der angegebene Code muss genau 10 Zeichen lang sein!";
			}
		}



		// Start: Trigger fÃ¼r Dashbaord-MenÃ¼

		$("#menu-toggle").click(function (e) {
			e.preventDefault();
			$("#wrapper").toggleClass("toggled");
		});

		// Ende: Trigger fÃ¼r Dashbaord-MenÃ¼

		$("#dashboard-aaer").css("display", "block");
		buttons.forEach(btn => document.getElementById(btn).disabled = true);
		displayController(DISPLAY.WILLKOMMEN);


	</script>

</body>

</html>